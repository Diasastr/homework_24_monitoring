# Порівняння інструментів моніторингу для Gitea на AWS EC2

## Вступ

Цей документ детально порівнює різні інструменти моніторингу (Prometheus, Zabbix, Grafana) для використання в контексті моніторингу сервісу Gitea, розгорнутого на AWS EC2. Мета полягає у визначенні найкращого інструменту моніторингу, який відповідає потребам проєкту, забезпечуючи ефективне відстеження інфраструктури та додатків.

## Огляд інструментів моніторингу

### Prometheus

#### Моніторингові можливості:
- **Інфраструктура:** Збір метрик з EC2 (CPU, пам'ять, диск, мережа) за допомогою Node Exporter.
- **Додаток:** Можливість моніторингу Gitea через експортери (/metrics для гіті) або інструментування для відстеження HTTP запитів, помилок, статистики git операцій.

#### Застосування до Gitea:
- Використовуючи Prometheus, можна налаштувати збір метрик безпосередньо з Gitea, якщо воно налаштоване на відкриття метрик у форматі, сумісному з Prometheus [Monitoring gitea with prometheus](https://serverfault.com/questions/999413/monitor-gitea-with-prometheus). Це дозволить моніторити час відгуку сервера, кількість активних сеансів користувачів і ресурси системи.

### Zabbix

#### Моніторингові можливості:
- **Інфраструктура:** Моніторинг EC2 за допомогою агентів і шаблонів для відстеження основних системних метрик.
- **Додаток:** Моніторинг за допомогою веб-перевірок та користувацьких скриптів для додаткового моніторингу.

#### Застосування до Gitea:
- Zabbix може бути налаштований для перевірки доступності Gitea і відстеження часу відгуку через веб-моніторинг. Для глибшої інтеграції можливе створення користувацьких скриптів для моніторингу логів Gitea або використання API для отримання специфічних метрик.

### Grafana

#### Моніторингові можливості:
- **Візуалізація:** Grafana є інструментом для візуалізації даних, що дозволяє створювати дашборди для відображення метрик з різних джерел, включаючи Prometheus та Zabbix.

#### Застосування до Gitea:
- Grafana може використовуватися для створення дашбордів, які показують метрики проєкту Gitea, зібрані через Prometheus або Zabbix. Це включає моніторинг часу відгуку, кількість запитів до сервера, статистику використання ресурсів і багато іншого.

## Вибір інструменту моніторингу для Gitea

Враховуючи вимоги до ліцензування, легкості встановлення на EC2, сумісності з AWS і Gitea, а також можливості масштабування, **Prometheus** є найкращим варіантом для нашого проєкту. Його легкість інтеграції з Gitea, здатність збирати метрики в реальному часі та підтримка великої кількості експортерів роблять його ідеальним рішенням для моніторингу. Grafana буде використовуватися для візуалізації метрик, зібраних Prometheus, надаючи зручний інтерфейс для аналізу даних і моніторингу стану системи.

## Висновок

Обрана комбінація **Prometheus для збору метрик** та **Grafana для візуалізації** забезпечує комплексний підхід до моніторингу інфраструктури AWS EC2 та додатків Gitea. Це дозволить не тільки ефективно відстежувати стан сервісу, але й швидко реагувати на потенційні проблеми, підвищуючи надійність і доступність нашого проєкту.
